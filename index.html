<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Headers Checker</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        p{
            text-align: justify;
        }

        .navbar {
            background: linear-gradient(45deg, #1e3c72, #2a5298);
        }

        .navbar-brand {
            color: #ffffff !important;
            font-weight: bold;
            font-size: xx-large;
            font-style: italic;
        }

        .navbar-nav .nav-link {
            color: #ffffff !important;
            font-size: x-large;
        }
        .nav-link:hover{
            color: #dc3545;
           
        }

        .container {
            flex: 1;
            margin-top: 50px;
        }

        .footer {
            background: #1e3c72;
            color: white;
            text-align: center;
            padding: 10px 0;
            width: 100%;
        }

        .header-check {
            margin-bottom: 30px;
        }

        .btn-primary {
            background-color: #007bff;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            transition: transform 0.2s, background-color 0.3s;
        }

        .btn-primary:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        /* Security Headers Report Styling */
        .patient-report {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
            border-left: 5px solid #007bff;
        }

        .patient-report h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #043263;
        }

        .report-card {
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .report-card.present {
            background: linear-gradient(45deg, #28a745, #61d79b);
            color: white;
        }

        .report-card.missing {
            background: linear-gradient(45deg, #dc3545, #ff6b6b);
            color: white;
        }

        .report-card:hover {
            transform: scale(1.05);
        }

        .scoreboard {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .score {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, background-color 0.3s;
        }

        .score.present {
            background: linear-gradient(45deg, #28a745, #61d79b);
        }

        .score.missing {
            background: linear-gradient(45deg, #dc3545, #ff6b6b);
        }

        .score:hover {
            transform: scale(1.1);
        }

        .score-box {
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            color: #023f80;
            margin-top: 20px;
        }

        .grade-box {
            background: linear-gradient(45deg, #007bff, #85d5ff);
            border-radius: 10px;
            padding: 30px 20px;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* About Section Styling */
        .about-section, .contact-section {
            padding: 50px 0;
            background-color: #f1f5f8;
            text-align: center;
        }

        .about-section h2, .contact-section h2 {
            font-size: 2.5rem;
            color: #007bff;
            margin-bottom: 30px;
        }

        .about-section p, .contact-section p {
            font-size: 1.2rem;
            line-height: 1.6;
            color: #333;
        }

        .contact-section form input, .contact-section form textarea {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .contact-section form button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border-radius: 5px;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .contact-section form button:hover {
            background-color: #0056b3;
        }


        .logo {
  font-size: 25px;
  font-weight: bold;
  text-transform: uppercase;
  background: linear-gradient(45deg, #ff6f61, #ffcc00, #28a745);
  color: transparent;
  -webkit-background-clip: text;
  background-clip: text;
  letter-spacing: 2px;
  padding: 10px;
  border: 3px solid transparent;
  border-radius: 10px;
  transition: all 0.3s ease;
}

.logo span {
  color: #fff; /* Highlight the 'HEADERS' part */
}

.logo:hover {
  transform: scale(1.1);
  border-color: #4b95c7;
}
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <div class="logo">
  SECURITY <span>HEADERS</span> CHECKER
</div>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link"   href="#home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Home Section -->
    <div id="home" class="container text-center">
        <h1 class="mb-4">CHECK YOUR WEBSITE</h1>
        <div class="header-check mb-3">
            <input type="url" id="url" class="form-control fs-3" placeholder="Enter website URL" required>
            <button class="btn btn-primary mt-5 w-25 fs-3" onclick="checkHeaders()">Check Headers</button>
        </div>

        <div id="report">
            <!-- Patient report section will be dynamically inserted here -->
        </div>

        <div id="scoreSection" style="display:none;">
            <div class="scoreboard">
                <div id="presentScore" class="score present">0%</div>
                <div id="missingScore" class="score missing">0%</div>
            </div>
            <div class="score-box">
                <div class="grade-box" id="gradeBox">Grade: -</div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <div id="about" class="about-section">
        <h2>About Us</h2>
        <div class="contaoner">
            <h3>Who?</h3>
            <p class="container">Security Headers is a tool originally created by Scott Helme and is now part of Probely. It is free to use and designed to help website owners and developers understand and set up modern security features to protect their websites better. The tool makes it simple to identify and implement important security headers, which are critical for improving the overall safety of a website.

                Probely, the company behind Security Headers, is a leading name in the cybersecurity field. They specialize in finding vulnerabilities in web applications and APIs using their Dynamic Application Security Testing (DAST) tools. These tools are designed to scan websites and APIs for weaknesses that hackers might exploit, allowing developers to fix issues before they become a problem. Probely’s focus is on providing user-friendly solutions to improve the security of online platforms.</p>
        </div>
        <div class="container">
            <h3>Why?</h3>
            <p class="container ">"There are services that analyze the HTTP response headers of websites, and we also offer a grading system for the results. These headers provide important security, and it’s crucial for websites to use them. By making it easy to check for missing headers and offering guidance on how to add them, we aim to encourage more websites to improve their security."</p>
        </div>
        <div class="container">
            <h3>OUR GOAL</h3>
            <p class="container">
                At SecurityHeaders.com, we aim to provide website administrators and developers with a simple tool to check the security headers of any website. By using a wide array of security headers, we help protect your site from common security threats such as clickjacking, cross-site scripting, and data theft. With our checker, you can easily identify missing headers that may leave your website vulnerable and take steps to correct them.
            </p>
        </div>
       
    </div>

    <!-- Contact Section -->
    <div id="contact" class="contact-section">
        <h2>Contact Us</h2>
        <p class="container">
            Have any questions or need support? We're here to help. Feel free to get in touch with us through the form below.
        </p>
       <div class="container">

        <form
        action="https://formspree.io/f/xkgnbdjk"
        method="POST"
      >
         <label class="container">
          <input  type="email" name="email" placeholder="Enter Your Email"  required>
        </label>  
        <label class="container" >
          <textarea name="message" placeholder="Your Message" rows="4"  required></textarea>
        </label>    
        <!-- your other form fields go here -->
        <button type="submit">Send</button>
      </form>
       </div>
       
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Security Headers Checker. All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        async function checkHeaders() {
            const url = document.getElementById('url').value;
            const reportContainer = document.getElementById('report');
            const presentScoreElement = document.getElementById('presentScore');
            const missingScoreElement = document.getElementById('missingScore');
            const gradeBox = document.getElementById('gradeBox');
            const scoreSection = document.getElementById('scoreSection');

            const mainHeaders = [
                "X-Frame-Options",
                "Strict-Transport-Security",
                "Content-Security-Policy",
                "X-Content-Type-Options",
                "Referrer-Policy",
                "Permissions-Policy",
                "X-Permitted-Cross-Domain-Policies",
                "X-XSS-Protection"
            ];

            // Clear previous results
            reportContainer.innerHTML = '';
            presentScoreElement.textContent = "0%";
            missingScoreElement.textContent = "0%";
            gradeBox.textContent = "Grade: -";

            if (!url) {
                alert('Please enter a valid URL.');
                return;
            }

            try {
                const response = await fetch('/api/headers', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url: url })
                });

                if (response.ok) {
                    const data = await response.json();
                    const headers = data.headers;

                    let mainPresentCount = 0;
                    let otherPresentCount = 0;
                    let reportHTML = '';

                    Object.keys(headers).forEach(header => {
                        const status = headers[header];
                        const isMainHeader = mainHeaders.includes(header);

                        if (status !== "missing") {
                            if (isMainHeader) mainPresentCount++;
                            else otherPresentCount++;
                        }

                        const cardClass = status === "missing" ? "missing" : "present";
                        reportHTML += `
                            <div class="report-card ${cardClass}">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h5>${header}</h5>
                                    <span>${status.toUpperCase()}</span>
                                </div>
                            </div>
                        `;
                    });

                    reportContainer.innerHTML = reportHTML;

                    const totalMainHeaders = mainHeaders.length;
                    const totalOtherHeaders = Object.keys(headers).length - totalMainHeaders;

                    const mainScore = (mainPresentCount / totalMainHeaders) * 90;
                    const otherScore = (otherPresentCount / totalOtherHeaders) * 10;

                    const totalScore = Math.round(mainScore + otherScore);
                    const missingScore = 100 - totalScore;

                    presentScoreElement.textContent = `${totalScore}%`;
                    missingScoreElement.textContent = `${missingScore}%`;

                    let grade = "F";
                    if (totalScore >= 60) grade = "A";
                    else if (totalScore >= 50) grade = "B";
                    else if (totalScore >= 40) grade = "C";
                    else if (totalScore >= 30) grade = "D";
                    else if (totalScore >= 10) grade = "F";
                    

                    gradeBox.textContent = `Grade: ${grade}`;

                    scoreSection.style.display = "block";
                } else {
                    alert('Failed to fetch headers. Please try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred. Please try again later.');
            }
        }
    </script>
</body>
</html>
